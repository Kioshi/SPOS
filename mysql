Instalace mariadb, při instalaci je zadáno heslo na roota DB:
#apt-get install mariadb-server

MariaDB naslouchá na 127.0.0.1:3306, nikoli na localhostu

Přihlásit do databáze "mysql" z 127.0.0.1 jako root lze takto (zvolení databáze není povinné):
#mysql -u root -p -h 127.0.0.1 mysql

Změna portu a rozhraní naslouchání v souboru /etc/mysql/my.cnf v sekci [mysqld]:
bind-address=0.0.0.0 (naslouchá na všech rozhraních - jednotlivá pravidla se pak nastavují pomocí GRANT v mysql)
#service mysql restart;
V případě změny portu je potřeba se připojovat navíc s: -P port

Pro automatické přihlašování můžeme vyzvořit soubor ~/.my.cnf:
[client]
user=root
password=heslo
host=127.0.0.1
database=mysql

Pak již stačí:
#mysql

Operace s DB a tabulkama:
mysql> show databases; 
mysql> use mysql; (zvolí databázi "mysql", lze zavolat znovu i pro změnu DB)
mysql> show tables;
mysql> desc table; 
mysql> create database if not exists testdb DEFAULT CHARACTER SET utf8  DEFAULT COLLATE utf8_general_ci; 
mysql> drop database if exists testdb; 
mysql> create table tabulka(id INT(10) UNSIGNED AUTO_INCREMENT PRIMARY KEY, name VARCHAR(30), email VARCHAR(50), reg_date TIMESTAMP);
mysql> drop table tabulka;

Práce s daty:
mysql> insert into tabulka (name, email) values ("tonik", "tondavrba@gmail.com");
mysql> select * from tabulka;
mysql> update tabulka SET name="Tonik" WHERE id=1;
mysql> delete from tabulka where id=1;

Plnění dat cyklem:
#apt install pwgen;
#for i in {1..50}; do echo "insert into testdb.tabulka (name, email) values ("\""$(pwgen 10 1)"\"", "\""$(pwgen 10 1)"\"");" | mysql; done

Přidání uživatele a jeho práv:
mysql> CREATE USER 'user'@'localhost' IDENTIFIED BY 'userpassword';
mysql> GRANT ALL PRIVILEGES ON testdb.* TO 'user'@'localhost'; (pokud localhost nahradíme % - přístup ze všech poslouchajících rozhraní)
mysql> FLUSH PRIVILEGES;
mysql> DROP USER 'user'@'localhost'; (smazání uživatele)
mysql> select user(); (ukáže právě přihlášeného uživatele)

Přístup uživatelů:
mysql> SELECT User, Host FROM mysql.user; (zobrazí uživatele a odkud mohou přistupovat)
mysql> show grants; (zobrazí práva přihlášeného uživatele)
mysql> GRANT ALL PRIVILEGES ON testdb.* TO 'user'@'10.0.0.%' IDENTIFIED BY 'userpassword'; (vytvoří nového uživatele se stejným jménem a jiným přístupem)
  - přístup ze sítě 10.0.0.0/24
  - každý uživatel tak musí mít extra účet vázaný na hosta a práva k DB
  - lze tak nastavit, že z různých sítí bude mít různá práva
  - pokud bude host samotné "%" znamená to - všechny ostatní
  - abychom udělali dalšího roota tak : GRANT ALL PRIVILEGES ON *.* TO 'anotherroot'@'%' IDENTIFIED BY 'anotherroot' WITH GRANT OPTION; 
  
  








